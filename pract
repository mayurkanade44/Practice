https://stackoverflow.com/questions/66649074/django-rest-frame-work-send-email-from-contact-form
https://stackoverflow.com/questions/53404738/how-to-send-email-with-django-rest-framwork

from django.core.mail import EmailMessage

class Services(models.Model):
  title = models.Charfield(max_length=100)
  pets_name = models.Charfield(max_length=100)
  
  def __str__(self):
        return str(self.name)


class MSDS(models.Model):
  service = models.ForeignKey(Services, null=True, on_delete=models.CASCADE)
  name = model.Charfield(max_length=100)
  
  def __str__(self):
        return str(self.name)


class TC(models.Model):
  service = models.ForeignKey(Services, null=True, on_delete=models.CASCADE)
  name = model.Charfield(max_length=100)
  
  def __str__(self):
        return str(self.name)
        
        
class Mail(models.Model):
  email = model.CharField(max_length=50) 
  
  def __str__(self):
    return str(self.email)
    
    

class EmailSerailizer(serializers.Serializer):
    email = serializers.CharField(max_length=50)
    
    
    

class MailSend(APIView):

def post(self,request):

    data = request.data
    
    serializer = EmailSerailizer(data)
        if serializer.is_valid():
          to = data['to']
    
           email = EmailMessage(
        'Title',
        'Body goes here',
        'my-email',
        [to]
    )
    #email.attach_file(ConsultSerializer.file)
    email.send()
    
    serializer.save()
    msg = {'msg': 'Email Has Been Sent'}
    return Response(msg, status=status.HTTP_201_CREATED)
    
    
    

    
 
       
 
  
 
